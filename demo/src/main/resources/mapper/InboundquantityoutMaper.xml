<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 映射器名字空间，即类的全限定名称 -->
<mapper namespace="com.example.demo.mapper.InboundquantityoutMaper">

<!--<select id="selectMapById" resultType="map">-->
<!--    select id,name,age,email from user where id=#{id}-->
<!--</select>-->

    <select id="eqinboundquantityoutAll" resultType="com.example.demo.pojo.Inboundquantityout">
  select * from `inboundquantityout`
        <where>
            <if test="barcode != '' and productname !='' and status!=''">
                barcode like "%"#{barcode}"%" and  productname like "%"#{productname}"%" and status like "%"#{status}"%"
            </if>
            <if test="barcode != '' and productname =='' and status ==''">
                barcode like "%"#{barcode}"%"
            </if>
            <if test="barcode == '' and productname !=''and status ==''">
                productname like "%"#{productname}"%"
            </if>
            <if test="barcode =='' and productname ==''and status !=''">
                status like "%"#{status}"%"
            </if>

            <if test="barcode !='' and productname !=''and status ==''">
                barcode like "%"#{barcode}"%" and  productname like "%"#{productname}"%"
            </if>

            <if test="barcode == '' and productname !=''and status !=''">
                productname like "%"#{productname}"%" and  status like "%"#{status}"%"
            </if>
            <if test="barcode != '' and productname ==''and status !=''">
                barcode like "%"#{barcode}"%" and  status like "%"#{status}"%"
            </if>
        </where>
        ORDER BY id desc
    </select>

    <select id="eqinboundquantityoutAlla" resultType="com.example.demo.pojo.Inboundquantityout">
        select * from `inboundquantityout`
        <where>
            <if test="barcode != '' and productname !='' and status!=''">
                barcode like "%"#{barcode}"%" and  productname like "%"#{productname}"%" and status like "%"#{status}"%"
            </if>
            <if test="barcode != '' and productname =='' and status ==''">
                barcode like "%"#{barcode}"%"
            </if>
            <if test="barcode == '' and productname !=''and status ==''">
                productname like "%"#{productname}"%"
            </if>
            <if test="barcode =='' and productname ==''and status !=''">
                status like "%"#{status}"%"
            </if>

            <if test="barcode !='' and productname !=''and status ==''">
                barcode like "%"#{barcode}"%" and  productname like "%"#{productname}"%"
            </if>

            <if test="barcode == '' and productname !=''and status !=''">
                productname like "%"#{productname}"%" and  status like "%"#{status}"%"
            </if>
            <if test="barcode != '' and productname ==''and status !=''">
                barcode like "%"#{barcode}"%" and  status like "%"#{status}"%"
            </if>
            and merchant=#{merchant}
        </where>

        ORDER BY id desc
    </select>
</mapper>
